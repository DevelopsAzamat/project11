<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Кредитный Калькулятор</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <a href="javascript:void(0)" onclick="reloadPage()" >Главная</a>
    <a href="javascript:void(0)" onclick="toggleCalculator()">Калькулятор</a>
    <a href="javascript:void(0)" onclick="toggleNews()">Новости</a>
    <a href="javascript:void(0)" onclick="toggleContacts()">Контакты</a>
    <div id="news" class="hidden">
      <h2>Новости Банка</h2>
      <ul>
        <li><strong>Новая процентная ставка:</strong> Мы обновили процентные ставки по кредитам, чтобы они стали еще более выгодными для вас.</li>
        <li><strong>Открытие нового филиала:</strong> Наш новый филиал открылся в центре города. Мы рады видеть вас!</li>
        <li><strong>Новая услуга:</strong> Мы запускаем новый сервис онлайн-заявок на кредит. Быстро и удобно!</li>
      </ul>
      <li><strong>Условия для клиентов:</strong>
        <ul>
          <li><strong>Студентам (от 21 года):</strong> Ставка 15% на кредиты.</li>
          <li><strong>Физическим лицам:</strong> Ставка 23% на кредиты.</li>
          <li><strong>Юридическим лицам:</strong> Ставка 27% на кредиты.</li>
        </ul>
      </li>
    </div>
    <div id="contacts" class="hidden">
      <h2>Контакты</h2>
      <p>Телефон: +998 (93) 474-39-18</p>
      <a href="https://yandex.uz/maps/10335/tashkent/house/YkAYdA9nTUAEQFprfX90cn5jYg==/?ll=69.287453%2C41.353206&z=16" target="_blank" ><p class="address">Наш адрес: проспект Амира Темура, 117, Ташкент. Узбекистан</p></a>
    </div>
  </div>
  
  <div class="hidden" id="middle">
    <p>
      Наш банк — это надежный финансовый партнер, который предоставляет широкий спектр услуг для физических и юридических лиц. Мы стремимся обеспечить удобство и качество обслуживания на каждом этапе взаимодействия.
    </p>
    <br>
    <ul>
      <li><strong>Надежность:</strong> Мы успешно работаем на рынке более 20 лет, заслужив доверие миллионов клиентов.</li>
      <li><strong>Инновации:</strong> Используем современные технологии для обеспечения комфортного и безопасного сервиса.</li>
      <li><strong>Доступность:</strong> Наши филиалы расположены в удобных местах, а услуги доступны онлайн 24/7.</li>
    </ul>
    
    <p>
      Наша миссия — помогать клиентам достигать финансовых целей, предлагая индивидуальные решения и поддержку на всех этапах их пути.
    </p>
</div>
  <!-- Main Content -->
  <div id="containermain" class="container hidden">
    <!-- Hidden Intro Text -->
    <div id="intro-text">
      <p>Этот сайт предназначен для подачи онлайн-заявок на кредит. Вы можете рассчитать сумму кредита, процентную ставку и срок, а также подать заявку через форму калькулятора.</p>
    </div>
    <!-- Hidden Calculator Form -->
    <div id="calculator">
      <h1>Кредитный калькулятор</h1>
      <form id="loan-form">
        <label for="amount">Сумма кредита в сумах</label>
        <input id="amount" type="text" placeholder="Сумма кредита" required oninput="formatNumber(this)" />

        <script>
          function formatNumber(input) {
            // Убираем все пробелы и некорректные символы
            const value = input.value.replace(/\s+/g, '').replace(/[^\d]/g, '');
        
            // Форматируем число с пробелами
            const formattedValue = value.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        
            // Обновляем значение поля
            input.value = formattedValue;
          }
        </script>
        <br>Годовая процентная ставка%
        <select id="interestRate" required>
          <option value="15">15% Для юных предпринимателей студентов</option>
          <option value="23">23% Для Физических лиц</option>
          <option value="27">27% Для Юридических</option>
        </select>
        
        <p>Срок в годах</p>
        <input id="termYears" type="number" placeholder="Срок в годах" required />
        
        <button type="button" onclick="calculate()">Рассчитать</button>
        <button type="button" onclick="clearForm()">Очистить</button>
      
      </form>
      <div class="apply-loan">
        <button onclick="openLoanForm()">Оформить кредит</button>
    </div>
    <!-- Модальное окно для оформления кредита -->
    <!-- Модальное окно для заявки -->
<div id="loanModal" class="modal hidden">
  <div class="modal-content">
      <!-- Кнопка закрытия -->
      <span class="close" onclick="closeLoanForm()">&times;</span>

      <h2>Заявка на кредит</h2>
      
      <label for="fullName">Ф.И.О.</label>
      <input type="text" id="fullName" placeholder="Введите ваше Ф.И.О." required>

      <label for="birthDate">Дата рождения:</label>
      <input type="date" id="birthDate" required>
      
      <label for="address">Адрес</label>
      <input type="text" id="address" placeholder="Введите ваш адрес" required>

      <label>Серия паспорта</label>
      <select id="serialpass" required>
          <option value="AD">AD</option>
          <option value="KA">KA</option>
      </select>
      
      <label for="passnum">Номер паспорта</label>
      <input type="number" id="passnum" placeholder="Введите номер паспорта" required>
      
      <label for="pinflnum">ПИНФЛ ЖШШИР</label>
      <input type="number" id="pinflnum" placeholder="Введите ПИНФЛ (ЖШШИР)" required>
      
      <label for="phone">Телефон</label>
      <input type="tel" id="phone" placeholder="Введите ваш телефон" required>
      
      <label for="email">Эл. почта:</label>
      <input type="email" id="email" required placeholder="example@example.com">
      
      <label for="clientType">Тип клиента</label>
      <select id="clientType" required>
          <option value="Студент">Студент (15%)</option>
          <option value="ФизикЛицо">Физическое лицо (23%)</option>
          <option value="ЮрдикЛицо">Юридическое лицо (27%)</option>
      </select>

      <label for="loanSum">Сумма кредита</label>
      <input type="number" id="loanSum" placeholder="Введите сумму кредита" required>
      
      <button type="button" onclick="submitLoanApplication()">Отправить заявку</button>
  </div>
</div>

      <div id="result"></div>
      <div id="error"></div>
      
      <!-- Graph Section -->
      <div id="payment-graph" class="hidden">
        <h3>Выберите график платежей:</h3>
        <select id="payment-type" onchange="toggleGraph()">
          <option value="annuity">Аннуитетный</option>
          <option value="differentiated">Дифференцированный</option>
        </select>
        <div id="annuity-table" >
          <h3>Аннуитетный график платежей</h3>
          <table id="annuity-result">
            <thead>
              <tr>
                <th>Месяц (сум)</th>
                <th>Платеж (сум)</th>
                <th>Процент (сум)</th>
                <th>Основной долг (сум)</th>
                <th>Остаток долга (сум)</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div id="differentiated-table">
          <h3>Дифференцированный график платежей</h3>
          <table id="differentiated-result">
            <thead>
              <tr>
                <th>Месяц (сум)</th>
                <th>Платеж (сум) </th>
                <th>Процент (сум)</th>
                <th>Основной долг (сум)</th>
                <th>Остаток долга (сум)</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
      <button id="exportBtn">Скачать в Excel</button>
    </div>
    <!-- Bank Address -->
  </div>
  <script src="script.js"></script>
</body>
<footer class="footer">
  <div class="footer-container">
    <div class="footer-section">
      <h3>О нас</h3>
      <ul>
        <li><a href="javascript:void(0)" onclick="toggleAboutBank()"> О банке</a></li>
        <li><a href="#">Наши услуги</a></li>
        <li><a href="javascript:void(0)" onclick="toggleContacts()">Контакты</a></li>
        <li><a href="#">Вакансии</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Информация</h3>
      <ul>
        <li><a href="#">Политика конфиденциальности</a></li>
        <li><a href="#">Пользовательское соглашение</a></li>
        <li><a href="#">Тарифы и условия</a></li>
        <li><a href="#">Часто задаваемые вопросы</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h3>Связь с нами</h3>
      <p>Телефон: +998(93) 474-39-18</p>
      <p>Email: azabank@gmail.com</p>
      <p>Адрес: ул. проспект Амира Темура, 117, Ташкент. Узбекистан</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2024 Ваш Банк. Все права защищены.</p>
  </div>
</footer>
<script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.1/xlsx.full.min.js"></script>
</html>
